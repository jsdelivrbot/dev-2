<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>canvas game tut</title>
  </head>
  <body>
    <canvas id="my_canvas" style="border:1px solid red;"></canvas>
  </body>
  <script type="text/javascript">
    'use strict';

    var canvas = null;
    var context = null;
    var img = null;
    var frameRate = 1000/30;//how often we call the animation function
    var frame = 0;
    var frames = [];
    var assets = [
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk00.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk01.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk02.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk03.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk04.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk05.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk06.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk07.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk08.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk09.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk10.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk11.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk12.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk13.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk14.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk15.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk16.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk17.png',
      'https://www.udacity.com/media/js/standalone/libs/gamedev_assets/robowalk/robowalk18.png',
    ];

    var onImageLoad = function(){
      //var img = this;
      //context.drawImage(img, 192, 192);
      console.log('Image Loaded!!');
    }

    var setup = function(){
      canvas = document.getElementById('my_canvas');
      context = canvas.getContext('2d');//canvas handle to drawing api
      canvas.width = '1200';// window.innerWidth
      canvas.height = '720';// window.innerHeight

      var assetsLength = assets.length;
      for(var i = 0; i < assetsLength; i++){
        frames.push(new Image());
        frames[i].onload = onImageLoad;
        frames[i].src = assets[i];

      }
      setInterval(animate, frameRate);
    //  console.log(frame);
      //img = new Image();
      //img.onload = onImageLoad;
      //img.src = "https://www.udacity.com/media/js/standalone/libs/gamedev_assets/ralphyrobot.png"

    }

    var animate = function(){
      context.clearRect(0,0,canvas.width, canvas.height);
      context.drawImage(frames[frame],192,192);
      frame = (frame + 1) % frames.length;
    }

    clearInterval(animate);
    setup();
  </script>
</html>
